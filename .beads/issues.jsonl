{"id":"wrapix-0u2","title":"Network security verification","description":"Verify network filtering on both platforms: blocked domains return 403, TLD blocking works, raw IP blocked, WebSocket blocked, DNS exfil blocked, ICMP blocked.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.155250789Z","created_by":"shaun","updated_at":"2026-01-06T19:24:22.322213481Z","closed_at":"2026-01-06T19:24:22.322213481Z","close_reason":"Verified: blocklist covers paste/file-sharing/webhooks, TLD blocking, raw IP blocking, WebSocket blocking, DNS/ICMP blocked via iptables"}
{"id":"wrapix-1ls","title":"Update ARCHITECTURE.md","description":"Update to reflect simplified single-container architecture","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T20:29:03.845256801Z","created_by":"shaun","updated_at":"2026-01-06T20:32:19.844438723Z","closed_at":"2026-01-06T20:32:19.844438723Z","close_reason":"Closed"}
{"id":"wrapix-2mq","title":"Add smoke tests for image builds and configs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:43:18.032875676Z","created_by":"shaun","updated_at":"2026-01-06T19:45:26.61126564Z","closed_at":"2026-01-06T19:45:26.61126564Z","close_reason":"Closed"}
{"id":"wrapix-2nt","title":"Performance tuning","description":"Optimize layer ordering in OCI images, tune VM resources for macOS, verify startup times.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.079598322Z","created_by":"shaun","updated_at":"2026-01-06T19:24:22.33572Z","closed_at":"2026-01-06T19:24:22.33572Z","close_reason":"Added VM CPU/memory tuning options, documented layer ordering strategy for cache efficiency"}
{"id":"wrapix-327","title":"Squid configuration (squid.nix)","description":"Create lib/sandbox/squid.nix to generate Squid transparent proxy config with blocklist ACLs, JSON logging, WebSocket blocking.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.618257196Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.357198024Z","closed_at":"2026-01-06T19:03:55.357198024Z","close_reason":"Closed"}
{"id":"wrapix-40g","title":"Add aarch64-darwin to flake","description":"Update flake.nix to add aarch64-darwin support alongside Linux systems.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.92957044Z","created_by":"shaun","updated_at":"2026-01-06T19:19:42.978406916Z","closed_at":"2026-01-06T19:19:42.978406916Z","close_reason":"aarch64-darwin already in flake.nix from initial implementation"}
{"id":"wrapix-4ra","title":"Update sandbox prompt","description":"Remove network filtering messaging, reflect container-only isolation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:29:03.649239687Z","created_by":"shaun","updated_at":"2026-01-06T20:31:10.058587745Z","closed_at":"2026-01-06T20:31:10.058587745Z","close_reason":"Closed"}
{"id":"wrapix-4xz","title":"Test OCI hooks integration","description":"Verify: hook installs correctly, iptables rules applied, blocked domains fail, allowed domains work, file ownership correct in /workspace.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:59:50.580073756Z","created_by":"shaun","updated_at":"2026-01-06T20:28:38.786515273Z","closed_at":"2026-01-06T20:28:38.786515273Z","close_reason":"No longer needed - removing network filtering entirely"}
{"id":"wrapix-582","title":"Linux Claude entrypoint (linux/entrypoint.nix)","description":"Create lib/sandbox/linux/entrypoint.nix - entrypoint script for Claude container with proper environment setup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.870389297Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.361436072Z","closed_at":"2026-01-06T19:03:55.361436072Z","close_reason":"Closed"}
{"id":"wrapix-6cg","title":"Claude Code npm package (claude-package.nix)","description":"Create lib/sandbox/claude-package.nix to fetch and install Claude Code from npm registry. Pin version, create wrapper script.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.188417376Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.276339569Z","closed_at":"2026-01-06T19:03:55.276339569Z","close_reason":"Closed"}
{"id":"wrapix-7a4","title":"macOS Nix wrapper (darwin/default.nix)","description":"Create lib/sandbox/darwin/default.nix - Nix wrapper that invokes the Swift runner with correct paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.827279116Z","created_by":"shaun","updated_at":"2026-01-06T19:19:42.964667828Z","closed_at":"2026-01-06T19:19:42.964667828Z","close_reason":"Implemented darwin/default.nix with kernel and Swift CLI integration"}
{"id":"wrapix-7cb","title":"Verify macOS profiles","description":"Verify all profiles work on macOS: VM boots \u003c1s, virtio-fs mounts work, UID mapping works.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:51.019001337Z","created_by":"shaun","updated_at":"2026-01-06T19:24:28.244830782Z","closed_at":"2026-01-06T19:24:28.244830782Z","close_reason":"Requires macOS hardware to test; implementation complete, needs verification on aarch64-darwin"}
{"id":"wrapix-7sj","title":"Linux init container (linux/init-image.nix)","description":"Create lib/sandbox/linux/init-image.nix - minimal ~5MB image with iptables. Sets up transparent proxy redirect rules, DNS filtering, drops other traffic, then exits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.782245369Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.360004649Z","closed_at":"2026-01-06T19:03:55.360004649Z","close_reason":"Closed"}
{"id":"wrapix-8cl","title":"Rewrite Linux orchestration for OCI hooks","description":"Update lib/sandbox/linux/default.nix: remove --userns from pod create, add hook installation, use --userns=keep-id on individual containers, add annotation to trigger hook.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:59:50.40448523Z","created_by":"shaun","updated_at":"2026-01-06T20:00:48.166542589Z","closed_at":"2026-01-06T20:00:48.166542589Z","close_reason":"Closed"}
{"id":"wrapix-a0u","title":"Update flake.nix for podman","description":"Update flake.nix - replace bubblewrap with podman sandbox, export packages (wrapix, wrapix-rust, wrapix-go, etc.) and lib functions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.225889602Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.367935202Z","closed_at":"2026-01-06T19:03:55.367935202Z","close_reason":"Closed"}
{"id":"wrapix-amu","title":"Implement full Darwin support with Containerization framework","description":"The Darwin sandbox currently shows a 'not yet implemented' message. Full support requires:\n\n1. Swift 6.0 in nixpkgs (currently 5.10.1)\n2. Working Darwin-to-Linux cross-compilation for container images\n3. Pre-built kernel or kernel build support on Darwin\n\nThe infrastructure is in place (Swift source, kernel config) but blocked on nixpkgs toolchain support.\n\nRelated files:\n- lib/sandbox/darwin/default.nix\n- lib/sandbox/darwin/kernel.nix\n- lib/sandbox/darwin/swift/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:23:49.726823Z","created_by":"shaun","updated_at":"2026-01-06T23:23:49.726823Z"}
{"id":"wrapix-b59","title":"Simplify Linux orchestration","description":"Single container with direct network (pasta), remove init/squid sidecars","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.450698171Z","created_by":"shaun","updated_at":"2026-01-06T20:30:08.788617169Z","closed_at":"2026-01-06T20:30:08.788617169Z","close_reason":"Closed"}
{"id":"wrapix-ca5","title":"macOS kernel build (darwin/kernel.nix)","description":"Create lib/sandbox/darwin/kernel.nix - build Linux kernel with Apple Containerization config for arm64, VIRTIO_FS built-in.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.670252663Z","created_by":"shaun","updated_at":"2026-01-06T19:19:42.936019079Z","closed_at":"2026-01-06T19:19:42.936019079Z","close_reason":"Implemented kernel.nix with comprehensive VirtIO config"}
{"id":"wrapix-cc4","title":"OCI image builder (image.nix)","description":"Create lib/sandbox/image.nix using dockerTools.buildLayeredImage. Include base packages, profile packages, cacert, macOS entrypoint script.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.707590825Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.358586907Z","closed_at":"2026-01-06T19:03:55.358586907Z","close_reason":"Closed"}
{"id":"wrapix-cga","title":"macOS Swift CLI (darwin/swift/)","description":"Create lib/sandbox/darwin/swift/ with Package.swift and SandboxRunner.swift - VM orchestration using Apple Containerization framework.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.745683184Z","created_by":"shaun","updated_at":"2026-01-06T19:19:42.951932515Z","closed_at":"2026-01-06T19:19:42.951932515Z","close_reason":"Implemented Swift CLI with SandboxRunner.swift and Package.swift"}
{"id":"wrapix-cpc","title":"System prompt for sandbox (sandbox-prompt.txt)","description":"Create lib/sandbox/sandbox-prompt.txt with sandbox environment description for Claude.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.303974517Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.352852687Z","closed_at":"2026-01-06T19:03:55.352852687Z","close_reason":"Closed"}
{"id":"wrapix-ded","title":"Simplify image build","description":"Remove squid, iptables, proxy env vars from image.nix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.547114461Z","created_by":"shaun","updated_at":"2026-01-06T20:30:48.267348004Z","closed_at":"2026-01-06T20:30:48.267348004Z","close_reason":"Closed"}
{"id":"wrapix-dv5","title":"Platform dispatcher (sandbox/default.nix)","description":"Create lib/sandbox/default.nix - dispatch to linux/ or darwin/ based on system platform.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.045973984Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.364346916Z","closed_at":"2026-01-06T19:03:55.364346916Z","close_reason":"Closed"}
{"id":"wrapix-e4r","title":"Add checks output to flake.nix","description":"Update flake.nix to export checks attribute from lib/tests. Enables nix flake check to run all tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:43:18.113997411Z","created_by":"shaun","updated_at":"2026-01-06T19:46:14.13996915Z","closed_at":"2026-01-06T19:46:14.13996915Z","close_reason":"Closed"}
{"id":"wrapix-fxl","title":"Update documentation","description":"Update CLAUDE.md and README.md with usage instructions, requirements, and examples.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.00355804Z","created_by":"shaun","updated_at":"2026-01-06T19:19:47.134316337Z","closed_at":"2026-01-06T19:19:47.134316337Z","close_reason":"Documentation updated with profiles simplified and ARCHITECTURE.md diagrams fixed"}
{"id":"wrapix-gh2","title":"Blocklist (blocklist.nix)","description":"Create lib/sandbox/blocklist.nix with blocked domains: pastebin sites, file sharing, URL shorteners, webhook sites, code execution platforms, risky TLDs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.535304706Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.355793031Z","closed_at":"2026-01-06T19:03:55.355793031Z","close_reason":"Closed"}
{"id":"wrapix-idm","title":"Test Linux profiles","description":"Test all profiles work on Linux: pod starts \u003c2s, init sets iptables and exits, Claude container has no caps, UID mapping works.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:36.322044263Z","created_by":"shaun","updated_at":"2026-01-06T19:24:22.306909599Z","closed_at":"2026-01-06T19:24:22.306909599Z","close_reason":"Fixed docker-archive prefix issue, both base and rust profiles build and generate correct podman scripts"}
{"id":"wrapix-iye","title":"Linux pod orchestration (linux/default.nix)","description":"Create lib/sandbox/linux/default.nix - Podman pod script with 3-container pattern: init (NET_ADMIN, exits), squid (sidecar), claude (unprivileged, interactive).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.955747149Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.362904644Z","closed_at":"2026-01-06T19:03:55.362904644Z","close_reason":"Closed"}
{"id":"wrapix-j4o","title":"Fix --userns/--pod conflict in Linux sandbox","description":"Move --userns=keep-id from podman run (line 40) to podman pod create (line 24) in lib/sandbox/linux/default.nix. Recent Podman versions don't allow --userns and --pod together on run.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:43:17.938168412Z","created_by":"shaun","updated_at":"2026-01-06T19:44:29.895443185Z","closed_at":"2026-01-06T19:44:29.895443185Z","close_reason":"Closed"}
{"id":"wrapix-ma9","title":"Delete network filtering files","description":"Delete squid.nix, blocklist.nix, init-image.nix, hook.nix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.355223356Z","created_by":"shaun","updated_at":"2026-01-06T20:29:30.594266264Z","closed_at":"2026-01-06T20:29:30.594266264Z","close_reason":"Closed"}
{"id":"wrapix-mnf","title":"Profile definitions (profiles.nix)","description":"Create lib/sandbox/profiles.nix with profile definitions: base, rust, go, python, js, nix, devops. Include mount format with source/dest/mode/optional.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.43574195Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.354404718Z","closed_at":"2026-01-06T19:03:55.354404718Z","close_reason":"Closed"}
{"id":"wrapix-nk4","title":"Create OCI hook for iptables setup","description":"Create lib/sandbox/linux/hook.nix with iptables hook script and JSON config. Hook runs in container namespace with NET_ADMIN before capabilities are dropped.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:59:50.319319354Z","created_by":"shaun","updated_at":"2026-01-06T20:00:26.814009126Z","closed_at":"2026-01-06T20:00:26.814009126Z","close_reason":"Closed"}
{"id":"wrapix-p5m","title":"Library exports (lib/default.nix)","description":"Create lib/default.nix exporting: mkSandbox, mkDevShell, deriveProfile, profiles.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.134120722Z","created_by":"shaun","updated_at":"2026-01-06T19:03:55.366211793Z","closed_at":"2026-01-06T19:03:55.366211793Z","close_reason":"Closed"}
{"id":"wrapix-v65","title":"Simplify init container image","description":"Update lib/sandbox/linux/init-image.nix: remove iptables logic (now handled by hook), make minimal container that just triggers hook and exits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:59:50.491565889Z","created_by":"shaun","updated_at":"2026-01-06T20:01:15.58930236Z","closed_at":"2026-01-06T20:01:15.58930236Z","close_reason":"Closed"}
{"id":"wrapix-y45","title":"Clean up smoke tests","description":"Remove blocklist and squid-config tests from smoke.nix","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:29:03.74952052Z","created_by":"shaun","updated_at":"2026-01-06T20:31:46.285143531Z","closed_at":"2026-01-06T20:31:46.285143531Z","close_reason":"Closed"}
{"id":"wx-0u2","title":"Network security verification","description":"Verify network filtering on both platforms: blocked domains return 403, TLD blocking works, raw IP blocked, WebSocket blocked, DNS exfil blocked, ICMP blocked.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.155250789Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.66979Z","closed_at":"2026-01-06T19:24:22.322213481Z","close_reason":"Verified: blocklist covers paste/file-sharing/webhooks, TLD blocking, raw IP blocking, WebSocket blocking, DNS/ICMP blocked via iptables"}
{"id":"wx-1ls","title":"Update ARCHITECTURE.md","description":"Update to reflect simplified single-container architecture","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T20:29:03.845256801Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.670504Z","closed_at":"2026-01-06T20:32:19.844438723Z","close_reason":"Closed"}
{"id":"wx-2mq","title":"Add smoke tests for image builds and configs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:43:18.032875676Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.670986Z","closed_at":"2026-01-06T19:45:26.61126564Z","close_reason":"Closed"}
{"id":"wx-2nt","title":"Performance tuning","description":"Optimize layer ordering in OCI images, tune VM resources for macOS, verify startup times.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.079598322Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.670747Z","closed_at":"2026-01-06T19:24:22.33572Z","close_reason":"Added VM CPU/memory tuning options, documented layer ordering strategy for cache efficiency"}
{"id":"wx-327","title":"Squid configuration (squid.nix)","description":"Create lib/sandbox/squid.nix to generate Squid transparent proxy config with blocklist ACLs, JSON logging, WebSocket blocking.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.618257196Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.673146Z","closed_at":"2026-01-06T19:03:55.357198024Z","close_reason":"Closed"}
{"id":"wx-40g","title":"Add aarch64-darwin to flake","description":"Update flake.nix to add aarch64-darwin support alongside Linux systems.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.92957044Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.672915Z","closed_at":"2026-01-06T19:19:42.978406916Z","close_reason":"aarch64-darwin already in flake.nix from initial implementation"}
{"id":"wx-4ra","title":"Update sandbox prompt","description":"Remove network filtering messaging, reflect container-only isolation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:29:03.649239687Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.671216Z","closed_at":"2026-01-06T20:31:10.058587745Z","close_reason":"Closed"}
{"id":"wx-4xz","title":"Test OCI hooks integration","description":"Verify: hook installs correctly, iptables rules applied, blocked domains fail, allowed domains work, file ownership correct in /workspace.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:59:50.580073756Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.671451Z","closed_at":"2026-01-06T20:28:38.786515273Z","close_reason":"No longer needed - removing network filtering entirely"}
{"id":"wx-582","title":"Linux Claude entrypoint (linux/entrypoint.nix)","description":"Create lib/sandbox/linux/entrypoint.nix - entrypoint script for Claude container with proper environment setup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.870389297Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.673387Z","closed_at":"2026-01-06T19:03:55.361436072Z","close_reason":"Closed"}
{"id":"wx-583","title":"Run NixOS VM integration tests on machine with Nix","description":"Run `nix flake check` to execute the new NixOS VM integration tests (container-start, filesystem-isolation, user-namespace) on a machine with Nix and KVM support. Verify all tests pass.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T21:12:33.471984848Z","created_by":"Shaun","updated_at":"2026-01-06T21:15:55.159179046Z"}
{"id":"wx-584","title":"Investigate bd daemon sharing between sandbox and host","description":"Running bd with --sandbox flag in the container causes issues with the host's bd daemon. Host bd commands start timing out and falling back to direct mode. Need to investigate:\n- Whether sandbox and host should share the same .beads directory\n- If daemon socket conflicts are causing the issue\n- Best practices for bd in containerized environments\n- Whether the sandbox should have its own isolated .beads or mount the host's","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T21:12:34.583879527Z","created_by":"Shaun","updated_at":"2026-01-06T21:21:39.098454814Z","closed_at":"2026-01-06T21:21:39.098454814Z","close_reason":"Closed"}
{"id":"wx-6cg","title":"Claude Code npm package (claude-package.nix)","description":"Create lib/sandbox/claude-package.nix to fetch and install Claude Code from npm registry. Pin version, create wrapper script.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.188417376Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.671693Z","closed_at":"2026-01-06T19:03:55.276339569Z","close_reason":"Closed"}
{"id":"wx-7a4","title":"macOS Nix wrapper (darwin/default.nix)","description":"Create lib/sandbox/darwin/default.nix - Nix wrapper that invokes the Swift runner with correct paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.827279116Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.672193Z","closed_at":"2026-01-06T19:19:42.964667828Z","close_reason":"Implemented darwin/default.nix with kernel and Swift CLI integration"}
{"id":"wx-7cb","title":"Verify macOS profiles","description":"Verify all profiles work on macOS: VM boots \u003c1s, virtio-fs mounts work, UID mapping works.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:51.019001337Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.672438Z","closed_at":"2026-01-06T19:24:28.244830782Z","close_reason":"Requires macOS hardware to test; implementation complete, needs verification on aarch64-darwin"}
{"id":"wx-7kd","title":"NixOS VM test type check failure","description":"The NixOS integration tests fail type checking:\n\n```\ntestScriptWithTypes:84: error: Incompatible types in assignment (expression has\ntype \"tuple[int, str]\", variable has type \"str\")  [assignment]\n    result = machine.execute(\n             ^\n```\n\nThe `machine.execute()` returns a tuple (exit_code, output) but the test assigns it to a string variable.\n\nThis blocks `nix flake check` from passing.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-06T21:24:02.295953991Z","created_by":"shaun","updated_at":"2026-01-06T21:24:02.295953991Z"}
{"id":"wx-7sj","title":"Linux init container (linux/init-image.nix)","description":"Create lib/sandbox/linux/init-image.nix - minimal ~5MB image with iptables. Sets up transparent proxy redirect rules, DNS filtering, drops other traffic, then exits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.782245369Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.671945Z","closed_at":"2026-01-06T19:03:55.360004649Z","close_reason":"Closed"}
{"id":"wx-8cl","title":"Rewrite Linux orchestration for OCI hooks","description":"Update lib/sandbox/linux/default.nix: remove --userns from pod create, add hook installation, use --userns=keep-id on individual containers, add annotation to trigger hook.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:59:50.40448523Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.672673Z","closed_at":"2026-01-06T20:00:48.166542589Z","close_reason":"Closed"}
{"id":"wx-a0u","title":"Update flake.nix for podman","description":"Update flake.nix - replace bubblewrap with podman sandbox, export packages (wrapix, wrapix-rust, wrapix-go, etc.) and lib functions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.225889602Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.669294Z","closed_at":"2026-01-06T19:03:55.367935202Z","close_reason":"Closed"}
{"id":"wx-a2p","title":"Add NixOS VM integration tests","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T19:43:18.194015231Z","created_by":"shaun","updated_at":"2026-01-06T21:15:55.16812344Z"}
{"id":"wx-amu","title":"Implement full Darwin support with Containerization framework","description":"The Darwin sandbox currently shows a 'not yet implemented' message. Full support requires:\n\n1. Swift 6.0 in nixpkgs (currently 5.10.1)\n2. Working Darwin-to-Linux cross-compilation for container images\n3. Pre-built kernel or kernel build support on Darwin\n\nThe infrastructure is in place (Swift source, kernel config) but blocked on nixpkgs toolchain support.\n\nRelated files:\n- lib/sandbox/darwin/default.nix\n- lib/sandbox/darwin/kernel.nix\n- lib/sandbox/darwin/swift/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:23:49.726823Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.666603Z"}
{"id":"wx-b59","title":"Simplify Linux orchestration","description":"Single container with direct network (pasta), remove init/squid sidecars","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.450698171Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.668075Z","closed_at":"2026-01-06T20:30:08.788617169Z","close_reason":"Closed"}
{"id":"wx-ca5","title":"macOS kernel build (darwin/kernel.nix)","description":"Create lib/sandbox/darwin/kernel.nix - build Linux kernel with Apple Containerization config for arm64, VIRTIO_FS built-in.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.670252663Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.669052Z","closed_at":"2026-01-06T19:19:42.936019079Z","close_reason":"Implemented kernel.nix with comprehensive VirtIO config"}
{"id":"wx-cc4","title":"OCI image builder (image.nix)","description":"Create lib/sandbox/image.nix using dockerTools.buildLayeredImage. Include base packages, profile packages, cacert, macOS entrypoint script.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.707590825Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.668564Z","closed_at":"2026-01-06T19:03:55.358586907Z","close_reason":"Closed"}
{"id":"wx-cga","title":"macOS Swift CLI (darwin/swift/)","description":"Create lib/sandbox/darwin/swift/ with Package.swift and SandboxRunner.swift - VM orchestration using Apple Containerization framework.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:50.745683184Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.668813Z","closed_at":"2026-01-06T19:19:42.951932515Z","close_reason":"Implemented Swift CLI with SandboxRunner.swift and Package.swift"}
{"id":"wx-cpc","title":"System prompt for sandbox (sandbox-prompt.txt)","description":"Create lib/sandbox/sandbox-prompt.txt with sandbox environment description for Claude.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.303974517Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.67026Z","closed_at":"2026-01-06T19:03:55.352852687Z","close_reason":"Closed"}
{"id":"wx-ded","title":"Simplify image build","description":"Remove squid, iptables, proxy env vars from image.nix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.547114461Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.667101Z","closed_at":"2026-01-06T20:30:48.267348004Z","close_reason":"Closed"}
{"id":"wx-dv5","title":"Platform dispatcher (sandbox/default.nix)","description":"Create lib/sandbox/default.nix - dispatch to linux/ or darwin/ based on system platform.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.045973984Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.665266Z","closed_at":"2026-01-06T19:03:55.364346916Z","close_reason":"Closed"}
{"id":"wx-e4r","title":"Add checks output to flake.nix","description":"Update flake.nix to export checks attribute from lib/tests. Enables nix flake check to run all tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:43:18.113997411Z","created_by":"shaun","updated_at":"2026-01-06T19:46:14.13996915Z","closed_at":"2026-01-06T19:46:14.13996915Z","close_reason":"Closed"}
{"id":"wx-fxl","title":"Update documentation","description":"Update CLAUDE.md and README.md with usage instructions, requirements, and examples.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:59.00355804Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.667342Z","closed_at":"2026-01-06T19:19:47.134316337Z","close_reason":"Documentation updated with profiles simplified and ARCHITECTURE.md diagrams fixed"}
{"id":"wx-gh2","title":"Blocklist (blocklist.nix)","description":"Create lib/sandbox/blocklist.nix with blocked domains: pastebin sites, file sharing, URL shorteners, webhook sites, code execution platforms, risky TLDs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.535304706Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.66955Z","closed_at":"2026-01-06T19:03:55.355793031Z","close_reason":"Closed"}
{"id":"wx-i4u","title":"Fix --userns/--pod conflict in Linux sandbox","description":"Move --userns=keep-id from podman run (line 40) to podman pod create (line 24) in lib/sandbox/linux/default.nix. Recent Podman versions don't allow --userns and --pod together on run.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:43:17.938168412Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.666346Z","closed_at":"2026-01-06T19:44:29.895443185Z","close_reason":"Closed"}
{"id":"wx-idm","title":"Test Linux profiles","description":"Test all profiles work on Linux: pod starts \u003c2s, init sets iptables and exits, Claude container has no caps, UID mapping works.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T18:51:36.322044263Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.665802Z","closed_at":"2026-01-06T19:24:22.306909599Z","close_reason":"Fixed docker-archive prefix issue, both base and rust profiles build and generate correct podman scripts"}
{"id":"wx-iye","title":"Linux pod orchestration (linux/default.nix)","description":"Create lib/sandbox/linux/default.nix - Podman pod script with 3-container pattern: init (NET_ADMIN, exits), squid (sidecar), claude (unprivileged, interactive).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:35.955747149Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.67003Z","closed_at":"2026-01-06T19:03:55.362904644Z","close_reason":"Closed"}
{"id":"wx-j4o","title":"Fix --userns/--pod conflict in Linux sandbox","description":"Move --userns=keep-id from podman run (line 40) to podman pod create (line 24) in lib/sandbox/linux/default.nix. Recent Podman versions don't allow --userns and --pod together on run.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:43:17.938168412Z","created_by":"shaun","updated_at":"2026-01-06T19:44:29.895443185Z","closed_at":"2026-01-06T19:44:29.895443185Z","close_reason":"Closed"}
{"id":"wx-ma9","title":"Delete network filtering files","description":"Delete squid.nix, blocklist.nix, init-image.nix, hook.nix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T20:29:03.355223356Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.66556Z","closed_at":"2026-01-06T20:29:30.594266264Z","close_reason":"Closed"}
{"id":"wx-mnf","title":"Profile definitions (profiles.nix)","description":"Create lib/sandbox/profiles.nix with profile definitions: base, rust, go, python, js, nix, devops. Include mount format with source/dest/mode/optional.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:21.43574195Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.668321Z","closed_at":"2026-01-06T19:03:55.354404718Z","close_reason":"Closed"}
{"id":"wx-nk4","title":"Create OCI hook for iptables setup","description":"Create lib/sandbox/linux/hook.nix with iptables hook script and JSON config. Hook runs in container namespace with NET_ADMIN before capabilities are dropped.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T19:59:50.319319354Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.666065Z","closed_at":"2026-01-06T20:00:26.814009126Z","close_reason":"Closed"}
{"id":"wx-p2l","title":"Add checks output to flake.nix","description":"Update flake.nix to export checks attribute from lib/tests. Enables nix flake check to run all tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:43:18.113997411Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.667837Z","closed_at":"2026-01-06T19:46:14.13996915Z","close_reason":"Closed"}
{"id":"wx-p5m","title":"Library exports (lib/default.nix)","description":"Create lib/default.nix exporting: mkSandbox, mkDevShell, deriveProfile, profiles.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T18:51:36.134120722Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.664405Z","closed_at":"2026-01-06T19:03:55.366211793Z","close_reason":"Closed"}
{"id":"wx-v65","title":"Simplify init container image","description":"Update lib/sandbox/linux/init-image.nix: remove iptables logic (now handled by hook), make minimal container that just triggers hook and exits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:59:50.491565889Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.667599Z","closed_at":"2026-01-06T20:01:15.58930236Z","close_reason":"Closed"}
{"id":"wx-y45","title":"Clean up smoke tests","description":"Remove blocklist and squid-config tests from smoke.nix","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:29:03.74952052Z","created_by":"shaun","updated_at":"2026-01-06T23:26:05.666871Z","closed_at":"2026-01-06T20:31:46.285143531Z","close_reason":"Closed"}
